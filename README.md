# Руководство системного администратора
## Вводные
Судя по вводным у нас молодая компания сотрудники которой не работают с конфиденциальной и критически важной информацией, соответственно можно допустить размещение удостоверяющего центра и VPN сервера на одной ВМ. 

Как временаня мера: Файл с ключем  удостоверяющего центра ( /usr/share/easy-rsa/pki/private/ca.key) следует зашифровать программой gpg

В процессе развития инфраструктуры можно запланировать разведение сервисов по разным ВМ.

На сервере необходимо создать нового юзера, отличного от root, дав ему группу прав sudo, доступ к серверу есть только у администратора.

Адрес нашего сервера 62.109.2.192

Репозиторий: https://github.com/parasky-john/skillbox

Схема инфраструктуры и потоков данных приложены в конце документа

## Разворачивание инфраструктуры на чистой ОС:
Создание пользователя admin. Добавление пользователя в группу sudo. Руководство по утсановке УЦ, OpenVPN, Prometheus приведено в следующих разделах данного руководства. После ключ удостоверяющего центра ( /usr/share/easy-rsa/pki/private/ca.key) следует зашифровать программой gpg

### Настройка Cron
Под пользователем _root_:

Переносим _backup.sh_ в _/usr/local/backup.sh_ (пояснения в разделе резрвного копирования)

Даем права на исполнение `chmod +x /usr/local/backup.sh`

Командой `crontab – e` вызываем редактор планировщика и  добавляем 
`0 0 * * * /usr/local/backup.sh`

![Схема инфраструктуры](инфраструктура.png)

![Схема потоков данных](https://user-images.githubusercontent.com/128013855/229751519-a1e8ed01-1cf7-45ef-aca0-797805af55be.png)
